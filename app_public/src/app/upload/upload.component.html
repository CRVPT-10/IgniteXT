<div class="upload-container">
  <h2>ðŸ“¤ Upload Study Material</h2>

  <div class="form-group">
    <label>Branch:</label>
    <select [(ngModel)]="selectedBranch" (change)="onBranchChange()">
      <option value="">Select Branch</option>
      <option *ngFor="let branch of branches" [value]="branch">{{ branch }}</option>
    </select>
  </div>

  <div class="form-group">
    <label>Year:</label>
    <select [(ngModel)]="selectedYear" (change)="onYearChange()">
      <option value="">Select Year</option>
      <option *ngFor="let year of years" [value]="year">{{ year }}</option>
    </select>
  </div>

  <div class="form-group">
    <label>Subject:</label>
    <select [(ngModel)]="selectedSubject">
      <option value="">Select Subject</option>
      <option *ngFor="let subject of subjects" [value]="subject">{{ subject }}</option>
    </select>
  </div>

  <div class="form-group">
    <label>File:</label>
    <input type="file" (change)="handleFileInput($event)" />
  </div>

  <button (click)="upload()" class="btn-upload">Upload</button>

  <p class="message">{{ message }}</p>

  <div *ngIf="materials.length > 0">
    <h3>Uploaded Materials</h3>
    <table>
      <thead>
        <tr>
          <th>Filename</th>
          <th>Branch</th>
          <th>Year</th>
          <th>Subject</th>
          <th>Uploaded By</th>
          <th>Date</th>
          <th>Download</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let mat of materials">
          <td>{{ mat.filename }}</td>
          <td>{{ mat.branch }}</td>
          <td>{{ mat.year }}</td>
          <td>{{ mat.subject }}</td>
          <td>{{ mat.uploadedBy }}</td>
          <td>{{ mat.uploadedAt | date:'medium' }}</td>
          <td><a [href]="mat.url" target="_blank">Download</a></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
